<div class="service-packages bg-white min-h-screen w-auto">
  <div class="mx-4 sm:mx-6 md:mx-10 lg:mx-20">
    <!-- Header Section -->
    <div class="mb-6 pt-2">
      <h1 class="text-[26px] font-inter font-bold text-gray-900 mb-2">Service Packages</h1>
      <p class="text-gray-600 text-[16px] font-inter">Choose the perfect plan for your goals. No hidden fees, just results-driven solutions to take your project to the next level.</p>
      
      <!-- Debug Section for SME Visibility -->
      <!-- <div class="mt-4 p-4 bg-gray-100 rounded-lg border border-gray-300">
        <h3 class="text-lg font-semibold text-gray-800 mb-2">SME Package Visibility Debug</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
          <div>
            <p><strong>SME Package Visible:</strong> <span class="font-mono" [class.text-green-600]="showSmePackage" [class.text-red-600]="!showSmePackage">{{ showSmePackage ? 'YES' : 'NO' }}</span></p>
            <p><strong>Company Country:</strong> <span class="font-mono">{{ localStorage.getItem('CompanyCountry') || 'Not Set' }}</span></p>
            <p><strong>Employee Max Size:</strong> <span class="font-mono">{{ localStorage.getItem('EmployeeMaxSize') || 'Not Set' }}</span></p>
          </div>
          <div>
            <p><strong>Is Entrepreneur:</strong> <span class="font-mono">{{ localStorage.getItem('IsEntrepreneurCompany') || 'Not Set' }}</span></p>
            <p><strong>Company ID:</strong> <span class="font-mono">{{ localStorage.getItem('CompanyId') || 'Not Set' }}</span></p>
            <button 
              (click)="debugSmeVisibility()"
              class="px-3 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600 transition-colors"
            >
              Debug Console
            </button>
          </div>
        </div>
      </div> -->
    </div>

    <!-- Top Navigation Tabs -->
    <div class="tabs flex flex-wrap sm:flex-nowrap bg-[#F0F2F5] rounded-md p-1 gap-3 sm:gap-6 md:gap-12 w-full mx-auto overflow-x-auto no-scrollbar" [ngClass]="activeTab === 'others' ? 'mb-4' : 'mb-8'">
      <button 
        (click)="setActiveTab('jobs')"
        [class]="activeTab === 'jobs' 
          ? 'w-full sm:w-[258px] h-[51px] px-4 sm:px-6 py-2 text-[16px] font-normal font-[\'Inter\'] rounded-md focus:outline-none transition-colors duration-200 text-white bg-[#165273]'
          : 'w-full sm:w-[258px] h-[51px] px-4 sm:px-6 py-2 text-[16px] font-normal font-[\'Inter\'] rounded-md focus:outline-none transition-colors duration-200 text-[#333333] bg-transparent hover:bg-gray-100'"
      >
        Jobs
      </button>
      <button 
        (click)="setActiveTab('talent-search')"
        [class]="activeTab === 'talent-search' 
          ? 'w-full sm:w-[258px] h-[51px] px-4 sm:px-6 py-2 text-[16px] font-normal font-[\'Inter\'] rounded-md focus:outline-none transition-colors duration-200 text-white bg-[#165273]'
          : 'w-full sm:w-[258px] h-[51px] px-4 sm:px-6 py-2 text-[16px] font-normal font-[\'Inter\'] rounded-md focus:outline-none transition-colors duration-200 text-[#333333] bg-transparent hover:bg-gray-100'"
      >
        Talent Search
      </button>
      <button 
        (click)="setActiveTab('bulk-subscription')"
        [class]="activeTab === 'bulk-subscription' 
          ? 'w-full sm:w-[258px] h-[51px] px-4 sm:px-6 py-2 text-[16px] font-normal font-[\'Inter\'] rounded-md focus:outline-none transition-colors duration-200 text-white bg-[#165273]'
          : 'w-full sm:w-[258px] h-[51px] px-4 sm:px-6 py-2 text-[16px] font-normal font-[\'Inter\'] rounded-md focus:outline-none transition-colors duration-200 text-[#333333] bg-transparent hover:bg-gray-100'"
      >
        Bulk Subscription
      </button>
      <button 
        (click)="setActiveTab('sms')"
        [class]="activeTab === 'sms' 
          ? 'w-full sm:w-[258px] h-[51px] px-4 sm:px-6 py-2 text-[16px] font-normal font-[\'Inter\'] rounded-md focus:outline-none transition-colors duration-200 text-white bg-[#165273]'
          : 'w-full sm:w-[258px] h-[51px] px-4 sm:px-6 py-2 text-[16px] font-normal font-[\'Inter\'] rounded-md focus:outline-none transition-colors duration-200 text-[#333333] bg-transparent hover:bg-gray-100'"
      >
        SMS
      </button>
      <button 
        (click)="setActiveTab('others')"
        [class]="activeTab === 'others' 
          ? 'w-full sm:w-[258px] h-[51px] px-4 sm:px-6 py-2 text-[16px] font-normal font-[\'Inter\'] rounded-md focus:outline-none transition-colors duration-200 text-white bg-[#165273]'
          : 'w-full sm:w-[258px] h-[51px] px-4 sm:px-6 py-2 text-[16px] font-normal font-[\'Inter\'] rounded-md focus:outline-none transition-colors duration-200 text-[#333333] bg-transparent hover:bg-gray-100'"
      >
        Others
      </button>
    </div>

    <!-- Main Content Area -->
    @if (activeTab === 'sms') {
      <app-sms-tab></app-sms-tab>
    } @else if (activeTab === 'others') {
      <!-- Others: Skill Development Training landing view -->
      <div class="bg-white rounded-lg border border-gray-200 shadow-sm p-4 md:p-6">
        <h2 class="text-[36px] font-medium font-[inherit] text-gray-900 mb-1">Skill Development Training for employees</h2>
        <p class="text-[#212121] text-[15px] text-semibold leading-tight mb-2">
          Equip your employees with the necessary tools and knowledge through comprehensive skill development training programs to drive success in the ever-evolving workplace.
        </p>
        <div class="w-full">
          <img
            src="https://corporate3.bdjobs.com/images/skilldevelopment.jpg"
            alt="Skill Development Training"
            class="w-full h-auto rounded-md"
          />
        </div>
        <div class="mt-4 space-y-2 text-[#212121] text-semibold text-[15px] leading-tight">
          <p>
            We have flexible training options to align with your business goals. Training takes place in weekends and at evening time so that employees can fit in the schedule and your organization does not lose work hour
          </p>
          <p>
            We offer modern, premier facility in the heart of Dhaka city, which includes a number of well-decorated air-conditioned training rooms and computer lab with internet facility, digital interactive writing boards, multimedia projectors.
          </p>
          <p>
            Also the venue (over 2500 sft.) has spacious lobby, reception, open space, prayer facility, lunch facility etc. At any point of time, our facility can concurrently host over 100 participants.
          </p>
          <p>
            The venue is located at 8th floor, the top floor of the building, which results a quiet environment for learners. The refreshment facility is available for learners during training that gives energizing break during long learning session.
          </p>
          <p>
            To learn more about our courses, please visit 
            <a href="https://elearning.bdjobs.com/" target="_blank" rel="noopener noreferrer" class="text-[#337ab7] no-underline">elearning.bdjobs.com</a>.
          </p>
        </div>
      </div>
       <div class="bg-white rounded-lg border mt-4 border-gray-200 shadow-sm p-4 md:p-6">
        <h2 class="text-[36px] font-medium font-[inherit] text-gray-900 mb-1">e-Recruitment System</h2>
        <p class="text-[#212121] text-[15px] text-semibold leading-tight mb-2">
        Equip your employees with the necessary tools and knowledge through comprehensive skill development training programs to drive success in the ever-evolving workplace.        </p>
        <div class="w-full">
          <img
            src="https://corporate3.bdjobs.com/images/erecruitment.jpg"
            alt="Skill Development Training"
            class="w-full h-auto rounded-md"
          />
        </div>
        <div class="mt-4 space-y-2 text-[#212121] text-semibold text-[15px] leading-tight">
          <p>
            "e-Recruitment System" is an online recruitment solution developed by Bdjobs.com Ltd. The system has been implemented in some of the most reputed and largest organizations in the country. It is a fully customized application by which a corporate human resource department can significantly automate its recruitment process.
          </p>
          <p>
            The system is designed to suit the needs of the HR department in fulfilling the online recruitment procedure and to fit the corporate image. "e-Recruitment Systemâ€™ is built on the proven expertise of the company in recruiting business domain and web technology.</p>
          <p>
            This complete solution enables the HR Department to make the Recruitment Process faster, easier and transparent.
            <a href="https://ers.bdjobs.com/" target="_blank" rel="noopener noreferrer" class="text-[#337ab7] no-underline">Know more and Order</a>.
          </p>
        </div>
      </div>
    } @else {
    <div class="flex flex-col md:flex-row justify-between items-stretch gap-3 w-full">
      <!-- Left Sidebar -->
      <div class="w-full md:w-80 h-auto relative bg-white rounded-md outline outline-1 outline-offset-[-1px] outline-neutral-200 overflow-hidden flex-shrink-0">
        @if (activeTab === 'jobs') {
          <app-service-packages-leftbar (packageSelected)="onPackageSelected($event)"></app-service-packages-leftbar>
        } @else if (activeTab === 'talent-search') {
          <app-talent-search-leftbar (optionSelected)="onTalentSearchOptionSelected($event)"></app-talent-search-leftbar>
        } @else if (activeTab === 'bulk-subscription') {
          <app-bulk-subscription-leftbar (itemSelected)="onBulkSubscriptionItemSelected($event)"></app-bulk-subscription-leftbar>
        } @else {
          <app-service-packages-leftbar (packageSelected)="onPackageSelected($event)"></app-service-packages-leftbar>
        }
      </div>

            <!-- Center Panel -->
      @if (activeTab === 'talent-search') {
        <app-talent-search-center [selectedTalentSearchOption]="selectedTalentSearchOption"></app-talent-search-center>
      } @else if (activeTab === 'bulk-subscription') {
        <app-bulk-subscription-center [selectedBulkItemId]="selectedBulkSubscriptionItemId"></app-bulk-subscription-center>
      } @else if (selectedPackage?.id === 'pnpl') {
        <div class="w-full md:w-[544px] p-6 bg-white rounded-[10px] shadow-[2px_4px_14px_0px_rgba(217,235,244,1.00)] border border-sky-700">
          <!-- PNPL Header with Pricing -->
                      <div class="flex justify-between items-center mb-4">
              <div class="text-lg font-semibold text-gray-900">PNPL</div>
              <div class="flex items-end gap-1">
                <div class="text-xl font-semibold text-[#0E73A9] font-['Inter'] leading-loose">{{formatNumber(pnplStartingPrice)}} {{currencyLabel}}</div>
                <div class="text-[16px] font-medium text-[#667085] font-['Inter'] leading-normal">Starting Package</div>
              </div>
            </div>
           <div class="h-px bg-gray-200 mb-4"></div>
           <div class="w-full overflow-x-auto">
           <table class="w-full border-collapse min-w-[420px]">
             <thead>
               <tr class="bg-[#F5F7FA]">
                 <th class="text-left px-4 py-2 text-[#0074B7] text-base font-bold font-['Inter']">Item</th>
                 <th class="text-right pr-6 py-2 text-[#0074B7] text-base font-bold font-['Inter']">Price</th>
               </tr>
             </thead>
             <tbody>
               @for (item of pnplItemsDisplay; track item; let i = $index) {
                 <tr class="border-t border-[#E5E7EB]" [ngClass]="i % 2 === 0 ? 'bg-[#F9FAFB]' : 'bg-white'">
                   <td class="px-4 py-2 text-zinc-800 text-base font-normal font-['Inter']">{{item.contacts}}</td>
                   <td class="px-4 py-2 text-zinc-800 text-base font-normal font-['Inter'] text-right">{{formatNumber(item.price)}} {{currencyLabel}}</td>
                 </tr>
               }
             </tbody>
            </table>
            </div>
         </div>
       } @else if (selectedPackage?.id === 'internship-announcement') {
         <div class="w-full md:w-[544px] p-6 bg-white rounded-[10px] shadow-[2px_4px_14px_0px_rgba(217,235,244,1.00)] border border-sky-700">
           <div class="w-full overflow-x-auto">
           <table class="w-full border-collapse min-w-[420px]">
             <thead>
               <tr class="bg-[#F5F7FA]">
                 <th class="text-left px-4 py-2 text-[#0074B7] text-base font-bold font-['Inter']">Item</th>
                 <th class="text-right pr-6 py-2 text-[#0074B7] text-base font-bold font-['Inter']">Price</th>
               </tr>
             </thead>
             <tbody>
               <tr class="border-t border-[#E5E7EB] bg-[#F9FAFB]">
                 <td class="px-4 py-2 text-zinc-800 text-base font-normal font-['Inter']">Internship Announcement</td>
                 <td class="pr-6 py-2 text-zinc-800 text-base font-normal font-['Inter'] text-right"><span class="font-semibold">0 {{currencyLabel}}</span> total</td>
               </tr>
             </tbody>
           </table>
           </div>
         </div>
        } @else if (selectedPackage?.id === 'blue-collar') {
          <div class="w-full md:w-[544px] p-6 bg-white rounded-[10px] shadow-[2px_4px_14px_0px_rgba(217,235,244,1.00)] border border-sky-700">
            <div class="w-full overflow-x-auto">
            <table class="w-full border-collapse min-w-[420px]">
              <thead>
                <tr class="bg-[#F5F7FA]">
                  <th class="text-left px-4 py-2 text-[#0074B7] text-base font-bold font-['Inter']">Item</th>
                  <th class="text-right pr-6 py-2 text-[#0074B7] text-base font-bold font-['Inter']">Price</th>
                </tr>
              </thead>
              <tbody>
                <tr class="border-t border-[#E5E7EB] bg-[#F9FAFB]">
                  <td class="px-4 py-2 text-zinc-800 text-base font-normal font-['Inter']">Blue Collar</td>
                  <td class="pr-6 py-2 text-zinc-800 text-base font-normal font-['Inter'] text-right"><span class="font-semibold">0 {{currencyLabel}}</span> total</td>
                </tr>
              </tbody>
            </table>
            </div>
          </div>
        } @else {
         <app-service-packages-center [selectedPackage]="selectedPackage"></app-service-packages-center>
       }

      <!-- Right Sidebar -->
      <div class="w-full md:w-auto flex-shrink-0">
        @if (activeTab === 'bulk-subscription') {
          <app-bulk-subscription-rightbar 
            [selectedBulkItemId]="selectedBulkSubscriptionItemId"
          ></app-bulk-subscription-rightbar>
        } @else {
          <app-service-packages-rightbar 
            [selectedPackageId]="selectedPackage?.id || null"
            [selectedTalentSearchOption]="selectedTalentSearchOption"
            [activeTab]="activeTab"
          ></app-service-packages-rightbar>
        }
      </div>
    </div>
    }

    <!-- Shared Service Packages Footer -->
    <app-service-packages-footer></app-service-packages-footer>
  </div>
</div>
